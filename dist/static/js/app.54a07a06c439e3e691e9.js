webpackJsonp([1],{"+ZRt":function(t,e,n){"use strict";function r(t){n("Jmu3")}var a=n("XYsL"),i=n("BZKc"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-4616af01",null);e.a=c.exports},"04ci":function(t,e,n){"use strict";function r(t){n("p8gy")}var a=n("D5Vr"),i=n("T14N"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-45fcb60b",null);e.a=c.exports},"0Nec":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("page-menu",{attrs:{pageName:t.pageName}}),t._v(" "),n("page-header",{attrs:{pageName:t.pageName}}),t._v(" "),n("div",{staticClass:"content"},[t._t("content")],2)],1)},a=[],i={render:r,staticRenderFns:a};e.a=i},"0VkU":function(t,e,n){"use strict";function r(t){n("BOK6")}var a=n("aPid"),i=n("0a2j"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-69e18fd3",null);e.a=c.exports},"0a2j":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-menu"},[n("img",{staticClass:"logo",attrs:{src:t.logoUrl}}),t._v(" "),t._l(t.pageMenu,function(e,r){return n("div",{staticClass:"pageMenuItem"},[n("router-link",{class:{selected:e.selected},attrs:{to:e.href}},[t._v(t._s(e.name))])],1)}),t._v(" "),t._m(0)],2)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pageMenuItem"},[n("a",{attrs:{href:"/login"}},[t._v("Login")])])}],i={render:r,staticRenderFns:a};e.a=i},"1VVl":function(t,e,n){"use strict";var r=n("lHA8"),a=n.n(r),i=n("Gu7T"),o=n.n(i),s=n("k7Ap"),c={vendors:[],vendorFilter:{sort:"Newest First",productType:null,sortOptions:[{label:"Newest First",sortFn:function(t,e){return t.created>e.created?-1:e.created>t.created?1:0}},{label:"Oldest First",sortFn:function(t,e){return t.created<e.created?-1:e.created<t.created?1:0}},{label:"Alphabetical",sortFn:function(t,e){return t.name<e.name?-1:e.name<t.name?1:0}}],get selectedSort(){var t=this;return this.sortOptions.filter(function(e){return e.label===t.sort})[0]}},vendorActions:[{label:"Approve"},{label:"Reject"}],pendingAction:null,pendingActionData:null,pendingActionError:null},u={vendors:function(t){return t.vendors},vendorFilter:function(t){return t.vendorFilter},vendorActions:function(t){return t.vendorActions},sortedVendors:function(t){var e=[].concat(o()(t.vendors));return t.vendorFilter.productType&&(e=e.filter(function(e){return!!e.products&&e.products.map(function(t){return t.type}).indexOf(t.vendorFilter.productType)>=0})),e.sort(t.vendorFilter.selectedSort.sortFn),e},productTypes:function(t){return[].concat(o()(t.vendors.reduce(function(t,e){return Array.isArray(e.products)&&e.products.forEach(function(e){return t.add(e.type)}),t},new a.a)))}},l={loadVendors:function(t){var e=t.rootState,n=t.commit;s.a.getVendors(e.session,function(t,e){n("setVendors",e)})}},d={setVendorSort:function(t,e){t.vendorFilter.sort=e},setProductFilter:function(t,e){t.vendorFilter.productType=e},setVendors:function(t,e){t.vendors=e},rejectVendorRequest:function(t,e){t.pendingAction="rejecting-vendor",t.pendingActionData=e},rejectVendorSuccess:function(t,e){var n=e.vendor;t.pendingAction=null,t.pendingActionData=null,n.status="rejected"},rejectVendorFailure:function(t,e){var n=e.err;t.pendingActionError=n},ackVendorFailure:function(t,e){e.err;t.pendingAction=null,t.pendingActionData=null,t.pendingActionError=null}};e.a={state:c,getters:u,actions:l,mutations:d}},"5+0M":function(t,e,n){"use strict";function r(t){n("Zili")}var a=n("9/0Z"),i=n("8n+1"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-9e82154e",null);e.a=c.exports},"5Rdj":function(t,e){},"66/m":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("page",{attrs:{pageName:t.name}})],1)},a=[],i={render:r,staticRenderFns:a};e.a=i},"7sSP":function(t,e,n){"use strict";function r(t){n("5Rdj")}var a=n("i5oB"),i=n("xn1R"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-3158851a",null);e.a=c.exports},"8n+1":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-secondary btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n    "+t._s(t.label)+"\n  ")]),t._v(" "),n("div",{staticClass:"dropdown-menu"},t._l(t.options,function(e){return n("a",{staticClass:"dropdown-item",on:{click:function(n){n.preventDefault(),t.takeAction(e)}}},[t._v("\n      "+t._s(e.label)+"\n    ")])}))])},a=[],i={render:r,staticRenderFns:a};e.a=i},"9/0Z":function(t,e,n){"use strict";e.a={name:"dropdown-button",props:{label:{type:String,required:!0},options:{type:Array,required:!0}},methods:{takeAction:function(t){this.$emit("selection",t)}}}},AO5d:function(t,e,n){"use strict";var r=n("0VkU"),a=n("+ZRt");e.a={name:"page",data:function(){return{}},props:{pageName:{type:String,required:!0}},components:{PageMenu:r.a,PageHeader:a.a}}},BFZB:function(t,e){},BOK6:function(t,e){},BZKc:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-menu"},[n("h1",[t._v(t._s(t.pageName))])])},a=[],i={render:r,staticRenderFns:a};e.a=i},CPvW:function(t,e){},D5Vr:function(t,e,n){"use strict";var r=n("Dd8w"),a=n.n(r),i=n("NYxO"),o=n("nx5j");e.a={name:"vendor-list",computed:a()({},Object(i.b)({vendors:"sortedVendors"})),components:{VendorListItem:o.a}}},"DG/e":function(t,e,n){"use strict";var r=n("Dd8w"),a=n.n(r),i=n("NYxO"),o=n("7sSP");e.a={name:"vendor-filter",computed:a()({},Object(i.b)({filter:"vendorFilter",productTypes:"productTypes"})),methods:{updateSort:function(t){this.$store.commit("setVendorSort",t)},updateProductType:function(t){this.$store.commit("setProductFilter",t)}},components:{SingleSelect:o.a}}},GmM4:function(t,e,n){"use strict";function r(t){n("xyI0")}var a=n("y2t4"),i=n("bm+2"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-464018c0",null);e.a=c.exports},IcnI:function(t,e,n){"use strict";var r=n("7+uW"),a=n("NYxO"),i=n("1VVl"),o=n("jMDJ");r.a.use(a.a);var s={initP:null},c={init:function(t){var e=t.dispatch;return e("loadSession").then(function(){return e("getProfile")})}},u={setInitP:function(t,e){t.initP=e}};e.a=new a.a.Store({state:s,mutations:u,actions:c,modules:{session:o.a,vendors:i.a}})},Jmt5:function(t,e){},Jmu3:function(t,e){},LHmw:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vendor-list-item"},[n("span",{staticClass:"name"},[t._v(t._s(t.vendor.name))]),t._v(" "),n("span",{staticClass:"city"},[t._v(t._s(t.vendor.city))]),t._v(" "),n("span",{staticClass:"state"},[t._v(t._s(t.vendor.state))]),t._v(" "),n("ul",{staticClass:"product-chips"},t._l(t.productTypes,function(e){return n("li",[t._v("\n      "+t._s(e)+"\n    ")])})),t._v(" "),n("dropdown-button",{attrs:{label:"Action",options:t.actions}})],1)},a=[],i={render:r,staticRenderFns:a};e.a=i},M93x:function(t,e,n){"use strict";function r(t){n("BFZB")}var a=n("xJD8"),i=n("aGY4"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,null,null);e.a=c.exports},NCqq:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"vendor-filter"},[n("li",[n("div",{staticClass:"title"},[t._v("Sort By")]),t._v(" "),n("single-select",{attrs:{options:t.filter.sortOptions,value:t.filter.sort},on:{selection:t.updateSort}})],1),t._v(" "),n("li",[n("div",{staticClass:"title"},[t._v("Product")]),t._v(" "),n("single-select",{attrs:{options:t.productTypes,value:t.filter.productType},on:{selection:t.updateProductType}})],1)])},a=[],i={render:r,staticRenderFns:a};e.a=i},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a=n("Jmt5"),i=(n.n(a),n("M93x")),o=n("YaEn"),s=n("IcnI");r.a.config.productionTip=!1;new r.a({el:"#app",router:o.a,store:s.a,template:"<App/>",components:{App:i.a}})},Qfyn:function(t,e){},T14N:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"vendor-list"},t._l(t.vendors,function(t){return n("li",{key:t.id},[n("vendor-list-item",{attrs:{vendor:t}})],1)}))},a=[],i={render:r,staticRenderFns:a};e.a=i},XYsL:function(t,e,n){"use strict";e.a={name:"page-header",data:function(){return{}},props:{pageName:{type:String,required:!0}}}},YT0m:function(t,e,n){"use strict";var r=n("pMNZ");e.a={name:"Calendar",data:function(){return{name:"Calendar"}},components:{Page:r.a}}},YaEn:function(t,e,n){"use strict";var r=n("7+uW"),a=n("/ocq"),i=n("sXoy"),o=n("iyFI"),s=n("GmM4");r.a.use(a.a),e.a=new a.a({routes:[{path:"/",name:"Vendors",component:i.a},{path:"/calendar",name:"Calendar",component:o.a},{path:"/onboarding",name:"Onboarding",component:s.a}]})},ZS7J:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("page",{attrs:{pageName:"Vendors"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("vendor-filter"),t._v(" "),n("vendor-list")],1)])],1)},a=[],i={render:r,staticRenderFns:a};e.a=i},Zili:function(t,e){},aGY4:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i={render:r,staticRenderFns:a};e.a=i},aPid:function(t,e,n){"use strict";var r=n("woOf"),a=n.n(r);e.a={name:"page-menu",data:function(){return{logoUrl:"/static/logo.png",pageItems:[{name:"Vendors",href:"/"},{name:"Calendar",href:"/calendar"},{name:"Onboarding",href:"/onboarding"}]}},props:{pageName:{type:String,required:!0}},computed:{pageMenu:function(){var t=this;return this.pageItems.map(function(e){var n=t.pageName===e.name;return a()({},e,{selected:n})})}}}},"bm+2":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("page",{attrs:{pageName:t.name}})],1)},a=[],i={render:r,staticRenderFns:a};e.a=i},eEls:function(t,e,n){"use strict";var r=n("pMNZ"),a=n("04ci"),i=n("vyhl");e.a={components:{Page:r.a,VendorList:a.a,VendorFilter:i.a},beforeMount:function(){var t=this;this.$store.dispatch("init").then(function(){t.$store.dispatch("loadVendors")})}}},frWc:function(t,e,n){"use strict";var r=n("lHA8"),a=n.n(r),i=n("Gu7T"),o=n.n(i),s=n("5+0M");e.a={name:"vendor-list-item",props:{vendor:{type:Object,required:!0}},computed:{actions:function(){return this.$store.getters.vendorActions},productTypes:function(){return[].concat(o()(this.vendor.products.reduce(function(t,e){return t.add(e.type),t},new a.a)))}},components:{DropdownButton:s.a}}},i5oB:function(t,e,n){"use strict";e.a={name:"single-select",props:{options:{type:Array,required:!0},value:{type:[String,Object],required:!1}},methods:{updateValue:function(t){this.$emit("selection",t.target.value)}}}},iBDH:function(t,e){},iyFI:function(t,e,n){"use strict";function r(t){n("mLjC")}var a=n("YT0m"),i=n("66/m"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-37dab2fa",null);e.a=c.exports},jMDJ:function(t,e,n){"use strict";(function(t){var r=n("woOf"),a=n.n(r),i=n("mvHQ"),o=n.n(i),s=n("//Fk"),c=n.n(s),u=n("truu"),l={auth:{accessToken:null,idToken:null,expiresAt:null,webAuth:null},mgmtApi:{host:null},profile:{loaded:!1,firstName:null,lastName:null,pictureUrl:null}},d={auth:function(t){return t.auth},isAuthenticated:function(t){var e=JSON.parse(t.auth.expiresAt);return(new Date).getTime()<e}},p={loadSession:function(t){var e=t.commit;t.state;return new c.a(function(t,n){u.a.load(function(n){e("setSession",n),t()})})},getProfile:function(t){var e=t.getters,n=t.commit,r=t.state;return new c.a(function(t,a){r.profile.loaded?t(r.profile):e.isAuthenticated?u.a.getProfile(r.auth.webAuth.client,r.auth.accessToken,function(e,r){e?a(e):(n("setProfile",r),t(r))}):a("not authenticated")})}},f={setSession:function(e,n){e.auth.accessToken=n.auth.accessToken,e.auth.idToken=n.auth.idToken,e.auth.expiresAt=o()(1e3*n.auth.expiresIn+(new Date).getTime()),e.auth.webAuth=new t.WebAuth({domain:n.auth.domain,clientID:n.auth.clientId,redirectUri:n.auth.redirectUri,audience:n.auth.audience,responseType:"token id_token",scope:n.auth.scope,leeway:60}),a()(e.mgmtApi,n.mgmtApi)},setProfile:function(t,e){t.profile.firstName=e.given_name,t.profile.lastName=e.family_name,t.profile.pictureUrl=e.picture,t.profile.loaded=!0}};e.a={state:l,getters:d,actions:p,mutations:f}}).call(e,n("2fyi"))},k7Ap:function(t,e,n){"use strict";(function(t){e.a={getVendors:function(e,n){var r=e.mgmtApi.rootUrl+"/vendors";t.ajax(r,{method:"GET",headers:{Authorization:"Bearer "+e.auth.accessToken},error:function(t,e,n){},success:function(t,e,r){n(null,t)}})},rejectVendor:function(t,e){}}}).call(e,n("7t+N"))},mLjC:function(t,e){},nx5j:function(t,e,n){"use strict";function r(t){n("r87J")}var a=n("frWc"),i=n("LHmw"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-5d79e23e",null);e.a=c.exports},p8gy:function(t,e){},pMNZ:function(t,e,n){"use strict";function r(t){n("iBDH")}var a=n("AO5d"),i=n("0Nec"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-671adbd4",null);e.a=c.exports},r87J:function(t,e){},sXoy:function(t,e,n){"use strict";function r(t){n("CPvW")}var a=n("eEls"),i=n("ZS7J"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-6afc9014",null);e.a=c.exports},truu:function(t,e,n){"use strict";(function(t){e.a={load:function(e,n){t.get("/session",function(t){e(t)})},getProfile:function(t,e,n){t.userInfo(e,n)}}}).call(e,n("7t+N"))},vyhl:function(t,e,n){"use strict";function r(t){n("Qfyn")}var a=n("DG/e"),i=n("NCqq"),o=n("VU/8"),s=r,c=o(a.a,i.a,!1,s,"data-v-f36e9ab6",null);e.a=c.exports},xJD8:function(t,e,n){"use strict";e.a={name:"app"}},xn1R:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("select",{domProps:{value:t.value},on:{change:t.updateValue}},t._l(t.options,function(e){return n("option",{domProps:{value:e.value||e.label||e}},[t._v("\n    "+t._s(e.label||e.value||e)+"\n  ")])}))},a=[],i={render:r,staticRenderFns:a};e.a=i},xyI0:function(t,e){},y2t4:function(t,e,n){"use strict";var r=n("pMNZ");e.a={name:"Onboarding",data:function(){return{name:"Onboarding"}},components:{Page:r.a}}}},["NHnr"]);
//# sourceMappingURL=app.54a07a06c439e3e691e9.js.map